(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,t,a){e.exports=a(26)},21:function(e,t,a){},26:function(e,t,a){"use strict";a.r(t);var l=a(0),n=a.n(l),r=a(12),c=a.n(r),m=(a(21),a(6)),i=a(3);var u=()=>n.a.createElement("header",null,n.a.createElement("nav",null,n.a.createElement(m.b,{to:"/"},"Home"),n.a.createElement(m.b,{to:"/upload"},"Upload"),n.a.createElement(m.b,{to:"/search"},"Search")));var o=()=>n.a.createElement("footer",null,n.a.createElement("p",null,"\xa9 2024 Silent Auction by Jumi and Ezekiel")),s=a(27);var E=()=>{const[e,t]=Object(l.useState)([]),[a,r]=Object(l.useState)(0),[c,m]=Object(l.useState)(null),[i,u]=Object(l.useState)(""),[o,E]=Object(l.useState)("");Object(l.useEffect)(()=>{(async()=>{try{const a=await s.a.get("http://localhost:5001/api/items");t(a.data);const l=a.data.reduce((e,t)=>e+t.bids.length,0);r(l)}catch(e){console.error("Error fetching items:",e)}})()},[]);return n.a.createElement("div",{className:"home-container"},n.a.createElement("div",{className:"total-bids-box"},n.a.createElement("h2",null,"Total Bids"),n.a.createElement("p",null,a)),n.a.createElement("div",{className:"main-content"},n.a.createElement("div",{className:"item-list"},n.a.createElement("h2",null,"Items"),n.a.createElement("ul",null,e.map(e=>n.a.createElement("li",{key:e._id,onClick:()=>(e=>{m(e)})(e)},e.title)))),n.a.createElement("div",{className:"item-details"},c?n.a.createElement(n.a.Fragment,null,n.a.createElement("h2",null,c.title),n.a.createElement("p",null,c.description),n.a.createElement("img",{src:"data:image/jpeg;base64,".concat(c.image),alt:c.title}),n.a.createElement("h3",null,"Bids: ",c.bids.length),n.a.createElement("form",{onSubmit:async e=>{if(e.preventDefault(),console.log("Submit button clicked"),i&&o)try{console.log("Submitting bid:",{price:i,email:o,itemId:c._id});const e=await s.a.patch("http://localhost:5001/api/items/".concat(c._id),{price:i,email:o});m(e.data),r(a+1),u(""),E("")}catch(t){console.error("Error submitting bid:",t)}else alert("Please enter a bid price and email.")}},n.a.createElement("label",null,"Bid Price:",n.a.createElement("input",{type:"number",value:i,onChange:e=>u(e.target.value),required:!0})),n.a.createElement("label",null,"Email:",n.a.createElement("input",{type:"email",value:o,onChange:e=>E(e.target.value),required:!0})),n.a.createElement("button",{type:"submit"},"Submit Bid"))):n.a.createElement("p",null,"Select an item to see the details"))))};var p=()=>{const[e,t]=Object(l.useState)(""),[a,r]=Object(l.useState)(""),[c,m]=Object(l.useState)(""),[i,u]=Object(l.useState)(null),[o,E]=Object(l.useState)(null);return n.a.createElement("div",{className:"upload-item"},n.a.createElement("h2",null,"Upload New Item"),n.a.createElement("form",{onSubmit:async l=>{l.preventDefault();const n=new FormData;n.append("title",e),n.append("description",a),n.append("category",c),n.append("image",i);try{const e=await s.a.post("http://localhost:5001/api/items",n,{headers:{"Content-Type":"multipart/form-data"}});console.log("Item uploaded successfully:",e.data),t(""),r(""),m(""),u(null),E(null)}catch(o){console.error("Error uploading item:",o),E("Failed to upload item")}}},n.a.createElement("input",{type:"text",value:e,onChange:e=>t(e.target.value),placeholder:"Item title",required:!0}),n.a.createElement("textarea",{value:a,onChange:e=>r(e.target.value),placeholder:"Item description",required:!0}),n.a.createElement("input",{type:"text",value:c,onChange:e=>m(e.target.value),placeholder:"Item category",required:!0}),n.a.createElement("input",{type:"file",onChange:e=>u(e.target.files[0]),required:!0}),n.a.createElement("button",{type:"submit"},"Upload")),o&&n.a.createElement("p",null,"Error: ",o))};var d=e=>{let{item:t}=e;return n.a.createElement("div",{className:"item-details"},n.a.createElement("h2",null,t.title),n.a.createElement("p",null,t.description),n.a.createElement("img",{src:"data:image/jpeg;base64,".concat(t.image),alt:t.title}),n.a.createElement("h3",null,"Bids: ",t.bids.length),n.a.createElement("form",null,n.a.createElement("label",null,"Bid Price:",n.a.createElement("input",{type:"number",placeholder:"Enter your bid"})),n.a.createElement("label",null,"Email:",n.a.createElement("input",{type:"email",placeholder:"Enter your email"})),n.a.createElement("button",{type:"submit"},"Submit Bid")))};var h=e=>{let{items:t,onItemClick:a}=e;return n.a.createElement("ul",{className:"item-list"},t.map(e=>n.a.createElement("li",{key:e._id,onClick:()=>a(e)},n.a.createElement("a",{href:"#"},e.title))))};var b=()=>{const[e,t]=Object(l.useState)(""),[a,r]=Object(l.useState)(""),[c,m]=Object(l.useState)([]),[i,u]=Object(l.useState)(!1),[o,E]=Object(l.useState)(null),[p,b]=Object(l.useState)(null);return n.a.createElement("div",{className:"item-search"},n.a.createElement("h2",null,"Search Items"),n.a.createElement("form",{onSubmit:async t=>{t.preventDefault(),u(!0),E(null);try{const t=await s.a.get("http://localhost:5001/api/items",{params:{search:e,category:a}});m(t.data)}catch(o){console.error("Error searching items:",o),E("Failed to search items")}finally{u(!1)}}},n.a.createElement("input",{type:"text",value:e,onChange:e=>t(e.target.value),placeholder:"Search by Item name"}),n.a.createElement("input",{type:"text",value:a,onChange:e=>r(e.target.value),placeholder:"Search by Category"}),n.a.createElement("button",{type:"submit"},"Search")),i&&n.a.createElement("p",null,"Loading..."),o&&n.a.createElement("p",null,"Error: ",o),!i&&!o&&n.a.createElement("div",{className:"results-container"},n.a.createElement(h,{items:c,onItemClick:e=>{b(e)}}),n.a.createElement("div",{className:"details-container"},p?n.a.createElement(d,{item:p}):n.a.createElement("p",null))))};var g=()=>n.a.createElement(m.a,null,n.a.createElement(u,null),n.a.createElement(i.c,null,n.a.createElement(i.a,{path:"/",element:n.a.createElement(E,null)}),n.a.createElement(i.a,{path:"/upload",element:n.a.createElement(p,null)}),n.a.createElement(i.a,{path:"/detail",element:n.a.createElement(d,null)}),n.a.createElement(i.a,{path:"/list",element:n.a.createElement(h,null)}),n.a.createElement(i.a,{path:"/search",element:n.a.createElement(b,null)})),n.a.createElement(o,null));c.a.createRoot(document.getElementById("root")).render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(g,null)))}},[[13,1,2]]]);
//# sourceMappingURL=main.9f596fbe.chunk.js.map